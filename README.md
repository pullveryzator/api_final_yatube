# YaTube REST API

**YaTube** — это платформа для блогов, где пользователи могут публиковать посты, комментировать их и подписываться на других авторов. Этот проект представляет собой REST API для взаимодействия с платформой YaTube. API предоставляет доступ к моделям приложения `posts`, включая посты, комментарии и группы. Доступ к API возможен только для аутентифицированных пользователей с использованием **TokenAuthentication**.

## Основные возможности API

- **Аутентификация по токену**: Доступ к API предоставляется только аутентифицированным пользователям.
- **Управление постами**:
  - Создание, редактирование и удаление постов (только для автора).
  - Получение списка постов или информации о конкретном посте.
- **Комментирование**:
  - Добавление комментариев к постам.
  - Получение списка комментариев или информации о конкретном комментарии.
- **Группы**:
  - Получение информации о группах (только для чтения).
- **Права доступа**:
  - Аутентифицированный пользователь может изменять и удалять только свой контент.
  - При попытке изменить чужой контент возвращается код ответа `403 Forbidden`.

## Эндпоинты API

- **`api/v1/api-token-auth/` (POST)**:
  - Передаём логин и пароль, получаем токен.

- **`api/v1/posts/`**:
  - **GET**: Получаем список всех постов.
  - **POST**: Создаём новый пост.

- **`api/v1/posts/{post_id}/`**:
  - **GET**: Получаем информацию о посте с идентификатором `{post_id}`.
  - **PUT**: Редактируем пост с идентификатором `{post_id}`.
  - **PATCH**: Частично редактируем пост с идентификатором `{post_id}`.
  - **DELETE**: Удаляем пост с идентификатором `{post_id}`.

- **`api/v1/groups/` (GET)**:
  - Получаем список всех групп.

- **`api/v1/groups/{group_id}/` (GET)**:
  - Получаем информацию о группе с идентификатором `{group_id}`.

- **`api/v1/posts/{post_id}/comments/`**:
  - **GET**: Получаем список всех комментариев поста с идентификатором `{post_id}`.
  - **POST**: Создаём новый комментарий для поста с идентификатором `{post_id}`.

- **`api/v1/posts/{post_id}/comments/{comment_id}/`**:
  - **GET**: Получаем информацию о комментарии с идентификатором `{comment_id}` в посте с идентификатором `{post_id}`.
  - **PUT**: Редактируем комментарий с идентификатором `{comment_id}` в посте с идентификатором `{post_id}`.
  - **PATCH**: Частично редактируем комментарий с идентификатором `{comment_id}` в посте с идентификатором `{post_id}`.
  - **DELETE**: Удаляем комментарий с идентификатором `{comment_id}` в посте с идентификатором `{post_id}`.

## Примеры запросов

### Создание нового поста

- **Пример запроса**:
  ```http
  POST /api/v1/posts/
  Authorization: Token <ваш_токен>
  Content-Type: application/json
  {
      "text": "Вечером собрались в редакции «Русской мысли», чтобы поговорить о народном театре. Проект Шехтеля всем нравится.",
      "group": 1
  }

- **Пример ответа**:
  ```http
  {
      "id": 14,
      "text": "Вечером собрались в редакции «Русской мысли», чтобы поговорить о народном театре. Проект Шехтеля всем нравится.",
      "author": "anton",
      "image": null,
      "group": 1,
      "pub_date": "2021-06-01T08:47:11.084589Z"
  }

### Как запустить проект:

1. Клонировать репозиторий и перейти в него в командной строке:

```
git clone git@github.com:pullveryzator/api_final_yatube.git
```

```
cd api_final_yatube
```
2. Cоздать и активировать виртуальное окружение:
```
python3 -m venv env
```
* Если у вас Linux/macOS
    ```
    source env/bin/activate
    ```
* Если у вас windows
    ```
    source env/scripts/activate
    ```
```
python3 -m pip install --upgrade pip
```
3. Установить зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```
4. Выполнить миграции:
```
python3 manage.py migrate
```
5. Запустить проект:
```
python3 manage.py runserver
```
